{% extends 'base.html' %}

{% block header %}
<h2>{% block title %}List of episodes, shows, users archives{% endblock %}</h2>
{% endblock %}

{% block content %}
<article class="admin-content">

<div class="episode-block">
    <h3>Episode</h3>
    <div class="episodes-list">
    {% for item in items %}
    <div class="episode-card">
        <p>Episode parent show: {% for show in item.shows %} {{ show.name }} {% endfor %}</p>
        <p>Episode number: {{item.number}}</p>
        <p>Episode name: {{item.name}}</p>
        <p>Episode cover URL: 
            <a href='{{item["image_url"]}}'>Link</a>
        </p>
        <p>Episode description: {{item.description}}</p>
        <p>Episode language: {{item.language}}</p>
        <p>Episode play date: {{item.play_date}}</p>
        <p>Episode play file name: {{item.play_file_name}}</p>
        <p>Episode play length: {{item.length}}</p>
        <p>Episode live?: {{item.live}}</p>
        <p>Episode broadcasted?: {{item.broadcast}}</p>
        <p>Episode (currently) airing?: {{item.airing}}</p>
        <p>Episode archive lahmastore: {{item.archive_lahmastore}}</p>
        <p>Episode archive lahmastore URL : {{item.archive_lahmastore_canonical_url}}</p>
        <p>Episode archive mixcloud: {{item.archive_mixcloud}}</p>
        <p>Episode archive mixcloud URL: {{item.archive_mixcloud_canonical_url}}</p>
        <p>Episode archived?: {{item.archived}}</p>
        <p>Episode D/L count: {{item.download_count}}</p>
        <p>Episode uploader: {{item.uploader}}</p>
        <p>Episode uploaded at: {{item.uploaded_at}}</p>
        <p>permalink <a href="{{ url_for('router.view_item', id=item.id) }}">{{item.id}}</a></p>
    </div>
    {% endfor %}    
    </div>    
</div>

<div class="shows-block">
    <h3>Shows</h3>
    <div class="shows-list">
    {% for show in shows %}
    <div class="show-card">
        <div class="show-title">
            <a href="{{ url_for('router.view_show', id=show.id) }}">
                <h4>{{show.name}}</h4>
                <span>with ID: {{show.id}}</span>
            </a>        
        </div>
        <div class="shows-inner">   
            <h5>Show items: </h5>
                <ul>
                    {% for item in show["items"] %}
                    <li>
                    <a href="{{ url_for('router.view_item', id=item.id) }}">
                        {{item.number}}. <strong>{{item.name}}</strong> â€“ {{item.description}} (Play Date: {{item.play_date}} | ID: {{item.id}}{% if item.archived %} archived {% else %} not_archived {% endif %})
                    </a>                    
                    </li>
                    {% endfor %}
                </ul> 
            <h5 class="infos-show">Show infos &raquo;</h5>
            <div class="hidden-infos">
                <p>Show host: {% for user in show.users %} {% if user.name %} {{ user.name }} {% else %} {{ user.email }} {% endif %}
                    {% endfor %}</p>
                <p>Show active: {{show.active}}</p>
                <p>Show name: {{show.name}}</p>
                <p>Show description: {{show.description}}</p>
                <p>Show language: {{show.language}}</p>
                <p>Show cover image: <a href="{{show.cover_image_url}}">Link</a></p>
                <p>Show playlist name: {{show.playlist_name}}</p>
                <p>Show frequency: {{show.frequency}}</p>
                <p>Show week: {{show.week}}</p>
                <p>Show day: {{show.day}}</p>
                <p>Show start: {{show.start}}</p>
                <p>Show end: {{show.end}}</p>
                <p>Show archive lahmastore base URL: {{show.archive_lahmastore_base_url}}</p>
                <p>Show archive mixcloud: {{show.archive_mixcloud}}</p>
                <p>Show archive mixcloud base URL: {{show.archive_mixcloud_base_url}}</p>
            </div>
        </div>
    </div>
    {% endfor %}    
    </div>    
</div>


<div class="users-block">
    <h3>Users</h3>
    <div class="users-list">
        {% for user in users %}
        <div class="user-card">
            <p>User name: {{user.name}}</p>
            <p>User email: {{user.email}}</p>
            <p>User active: {{user.active}}</p>
            <p>User butt username: {{user.butt_user}}</p>
            <p>User butt password: {{user.butt_pw}}</p>
            <p>User hosted shows: 
                <ul>
                {% for show in user.shows %} 
                <li>{{ show.name }}</li> 
                {% endfor %}
                </ul>
            </p>
            <p>permalink <a href="{{ url_for('router.view_user', id=user.id) }}">{{user.id}}</a></p>    
        </div>
        {% endfor %}    
    </div>    
</div>
</article>

{% endblock %}
